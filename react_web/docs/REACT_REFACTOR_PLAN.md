# React é‡æ„è®¡åˆ’

> **çŠ¶æ€æ›´æ–°**: ğŸ‰ **react_web é¡¹ç›®å·²åˆ›å»ºå®Œæˆï¼** é‡‡ç”¨ React Router v7 (SPA æ¨¡å¼) + ç‹¬ç«‹ç»„ä»¶æ„å»ºçš„åŒè½¨æ¶æ„ã€‚

---

## ğŸ“‹ é¡¹ç›®ç°çŠ¶åˆ†æ

### å½“å‰æŠ€æœ¯æ ˆ
- **åç«¯**: FastAPI (Python 3.11+)
- **å‰ç«¯**: 
  - **ä¼ ç»Ÿéƒ¨åˆ†**: HTML/CSS/JS (Vanilla JavaScript) - `static/app.js` (3274 è¡Œ)
  - **React éƒ¨åˆ†**: React Router v7 + React 19 + TypeScript - `react_web/` âœ…
- **æ¨¡æ¿å¼•æ“**: Jinja2 (ä¼ ç»Ÿéƒ¨åˆ†) / React Router SSR (æ–°éƒ¨åˆ†)
- **æ„å»ºå·¥å…·**: Vite 7

### å·²å®Œæˆçš„å·¥ä½œ âœ…

1. **React Router v7 SPA åº”ç”¨** - `react_web/`
   - âœ… é¡¹ç›®åŸºç¡€æ¶æ„ï¼ˆSPA æ¨¡å¼ï¼‰
   - âœ… Lanlan Terminal ä¸»ç•Œé¢ (`app/routes/main.tsx`)
   - âœ… ç»Ÿä¸€çš„ Request æ¨¡å— (`@project_neko/request` + `request.global.js`)
   - âœ… ä¸ static/ èµ„æºçš„æ¡¥æ¥
   - âœ… ç¯å¢ƒå˜é‡é…ç½®ç³»ç»Ÿ
   - âœ… çº¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œæ— éœ€ Node SSR æœåŠ¡å™¨

2. **ç‹¬ç«‹ç»„ä»¶æ„å»ºç³»ç»Ÿ**
   - âœ… Vite ç»„ä»¶æ„å»ºé…ç½® (`vite.components.config.ts`)
   - âœ… ExampleButton ç¤ºä¾‹ç»„ä»¶
   - âœ… è‡ªåŠ¨å¤åˆ¶è„šæœ¬ (`scripts/copy-component.js`)
   - âœ… CDN å¤–éƒ¨ä¾èµ–ä¼˜åŒ–

3. **æ–‡æ¡£ä½“ç³»**
   - âœ… é¡¹ç›®ä¸»æ–‡æ¡£ (`react_web/README.md`)
   - âœ… æ¸è¿›å¼è¿ç§»æŒ‡å— (æœ¬æ–‡æ¡£)
   - âœ… ç†è®ºå‚è€ƒæ–‡æ¡£ (`REACT_GRADUAL_MIGRATION.md`)

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼ˆå¾…è¿ç§»ï¼‰

1. **Live2D æ¨¡å‹ç³»ç»Ÿ** - PIXI.js æ¸²æŸ“ï¼Œè¡¨æƒ…/åŠ¨ä½œç®¡ç†ï¼Œå£å‹åŒæ­¥
   - å½“å‰: `static/live2d.js` + `static/app.js`
   - è®¡åˆ’: React Router ä¸»ç•Œé¢å·²é›†æˆï¼Œé€æ­¥é‡æ„
   
2. **èŠå¤©ç³»ç»Ÿ** - WebSocket é€šä¿¡ï¼Œæ¶ˆæ¯å†å²ï¼Œæˆªå›¾åŠŸèƒ½
   - å½“å‰: `static/app.js` ä¸­çš„ DOM æ“ä½œ
   - è®¡åˆ’: å¯è¿ç§»ä¸ºç‹¬ç«‹ React ç»„ä»¶
   
3. **è¯­éŸ³æ§åˆ¶ç³»ç»Ÿ** - WebRTC éŸ³é¢‘æ•è·ï¼Œå±å¹•å…±äº«
   - å½“å‰: `static/app.js`
   - è®¡åˆ’: é«˜ä¼˜å…ˆçº§è¿ç§»ç›®æ ‡
   
4. **UI ç»„ä»¶ç³»ç»Ÿ** - çŠ¶æ€æç¤ºã€å¯¹è¯æ¡†ã€å›½é™…åŒ–
   - å½“å‰: åŸç”Ÿ DOM æ“ä½œ
   - è®¡åˆ’: æœ€é€‚åˆç‹¬ç«‹ç»„ä»¶æ„å»º
   
5. **é…ç½®ç®¡ç†** - è§’è‰²é…ç½®ã€API Keyã€ç”¨æˆ·åå¥½
   - å½“å‰: åˆ†æ•£åœ¨å„å¤„
   - è®¡åˆ’: ç»Ÿä¸€åˆ° React çŠ¶æ€ç®¡ç†

### å½“å‰é—®é¢˜

- âŒ å¤§é‡å…¨å±€å˜é‡ï¼Œç´§è€¦åˆçš„ DOM æ“ä½œ
- âŒ å•ä¸ªæ–‡ä»¶è¿‡å¤§ï¼ˆapp.js 3274 è¡Œï¼‰
- âŒ æ— ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½
- âœ… å·²æœ‰ TypeScript + çƒ­é‡è½½ï¼ˆReact éƒ¨åˆ†ï¼‰

---

## ğŸ¯ é‡æ„ç›®æ ‡

### çŸ­æœŸç›®æ ‡
- å»ºç«‹ React é¡¹ç›®åŸºç¡€æ¶æ„
- è¿ç§»æ ¸å¿ƒ UI ç»„ä»¶
- ä¿æŒä¸åç«¯ API å…¼å®¹

### ä¸­æœŸç›®æ ‡
- é‡æ„çŠ¶æ€ç®¡ç†
- ä¼˜åŒ–æ€§èƒ½
- å¢å¼ºç±»å‹å®‰å…¨

### é•¿æœŸç›®æ ‡
- ç§»åŠ¨ç«¯ç‹¬ç«‹ç‰ˆæœ¬
- PWA æ”¯æŒ
- å•å…ƒæµ‹è¯•è¦†ç›–

---

## ğŸ“ æŠ€æœ¯é€‰å‹

### å·²é‡‡ç”¨çš„æŠ€æœ¯æ ˆ âœ…

- **React Router v7** - React æ¡†æ¶ï¼ˆè·¯ç”± + SPA æ¨¡å¼ï¼‰
- **React 19** - æœ€æ–°çš„ UI åº“
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS v4** - ç°ä»£æ ·å¼ç³»ç»Ÿ
- **Vite 7** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **CDN å¤–éƒ¨ä¾èµ–** - React/ReactDOM ä» esm.sh åŠ è½½ï¼ˆç‹¬ç«‹ç»„ä»¶ï¼‰

> æ³¨ï¼šé¡¹ç›®é‡‡ç”¨ SPA æ¨¡å¼ï¼Œä¸ä½¿ç”¨ SSRã€‚é€‚åˆæ¡Œé¢åº”ç”¨åœºæ™¯ã€‚

### æœªæ¥å¯èƒ½æ·»åŠ  ğŸ”®

- **Zustand** - çŠ¶æ€ç®¡ç†ï¼ˆå¦‚æœéœ€è¦å¤æ‚çŠ¶æ€ï¼‰
- **i18next** - å›½é™…åŒ–ï¼ˆç›®å‰ä½¿ç”¨ç°æœ‰æ–¹æ¡ˆï¼‰
- **TanStack Query** - API æ•°æ®ç®¡ç†ï¼ˆå¯é€‰ï¼‰

---

## ğŸ”„ æ¶æ„ç­–ç•¥

### âœ¨ å·²å®ç°ï¼šåŒè½¨æ¶æ„ï¼ˆReact Router v7 SPA + ç‹¬ç«‹ç»„ä»¶ï¼‰

**å½“å‰çŠ¶æ€**: âœ… å·²å®æ–½

**æ¶æ„è¯´æ˜**:

```tree
react_web/
â”‚
â”œâ”€ ä¸»è½¨é“: React Router v7 SPA åº”ç”¨
â”‚  â”œâ”€ ç”¨é€”: æ–°åŠŸèƒ½å¼€å‘ã€å®Œæ•´çš„ç°ä»£ React åº”ç”¨
â”‚  â”œâ”€ æ„å»º: npm run build â†’ build/client/ (çº¯é™æ€èµ„æº)
â”‚  â””â”€ ç‰¹ç‚¹: SPA æ¨¡å¼ã€è·¯ç”±ã€å®Œæ•´çš„ React ç”Ÿæ€ã€å¯éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨
â”‚
â””â”€ è¿ç§»è½¨é“: ç‹¬ç«‹ç»„ä»¶æ„å»º
   â”œâ”€ ç”¨é€”: æ¸è¿›å¼æ›¿æ¢ static/app.js ä¸­çš„æ—§ä»£ç 
   â”œâ”€ æ„å»º: npm run build:component â†’ ../static/*.js
   â””â”€ ç‰¹ç‚¹: ES Moduleã€äº‹ä»¶æ€»çº¿ã€å¯åµŒå…¥ä¼ ç»Ÿ HTML
```

**ä¼˜ç‚¹**:
- âœ… æ–°åŠŸèƒ½ç›´æ¥ç”¨ React Router å¼€å‘ï¼Œæ— éœ€å¦¥å
- âœ… æ—§ä»£ç å¯ä»¥é€æ­¥è¿ç§»ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½
- âœ… ä¸¤æ¡è½¨é“äº’ä¸å¹²æ‰°ï¼Œé£é™©æä½
- âœ… çµæ´»åº¦é«˜ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´è¿ç§»èŠ‚å¥
- âœ… æ— éœ€ Node SSR æœåŠ¡å™¨ï¼Œéƒ¨ç½²ç®€å•

**ä¸ºä»€ä¹ˆé€‰æ‹© SPA è€Œä¸æ˜¯ SSRï¼Ÿ**
1. **ç®€åŒ–éƒ¨ç½²** - N.E.K.O æ˜¯æ¡Œé¢åº”ç”¨ï¼Œä¸éœ€è¦ SEO
2. **é™ä½å¤æ‚åº¦** - æ— éœ€ç»´æŠ¤ Node SSR æœåŠ¡å™¨
3. **æ›´å¥½çš„é›†æˆ** - ä¸ç°æœ‰ FastAPI åç«¯æ›´å®¹æ˜“é›†æˆ
4. **å¼€å‘æ•ˆç‡** - å‡å°‘æœåŠ¡ç«¯/å®¢æˆ·ç«¯çŠ¶æ€åŒæ­¥é—®é¢˜

**å®æ–½æ–¹å¼**:
1. **æ–°åŠŸèƒ½å¼€å‘** - ç›´æ¥åœ¨ React Router åº”ç”¨ä¸­å®ç°
2. **æ—§ä»£ç è¿ç§»** - å°†ç»„ä»¶ç‹¬ç«‹æ‰“åŒ…ï¼Œé€šè¿‡äº‹ä»¶æ€»çº¿ä¸æ—§ä»£ç é€šä¿¡
3. **é€æ­¥æ›¿æ¢** - ä¸€ä¸ªç»„ä»¶ä¸€ä¸ªç»„ä»¶æ›¿æ¢æ—§ä»£ç 
4. **æœ€ç»ˆç›®æ ‡** - æ‰€æœ‰åŠŸèƒ½è¿ç§»åˆ° React Router åº”ç”¨

**è¯¦ç»†å®æ–½æŒ‡å—**: å‚è§ [react_web/README.md](../react_web/README.md)

---

## ğŸ“ åˆ†é˜¶æ®µè®¡åˆ’

### Phase 0: é¡¹ç›®åˆå§‹åŒ– âœ… **å·²å®Œæˆ**
- âœ… åˆ›å»º React Router v7 é¡¹ç›®ï¼ˆSPA æ¨¡å¼ï¼‰
- âœ… é…ç½®åŒè½¨æ„å»ºï¼ˆåº”ç”¨ + ç»„ä»¶ï¼‰
- âœ… åˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹ç»„ä»¶ï¼ˆExampleButtonï¼Œç°å·²åºŸå¼ƒï¼Œä»…ä¿ç•™æ–‡æ¡£ç¤ºä¾‹ï¼‰
- âœ… å»ºç«‹ä¸ static/ ç›®å½•çš„é›†æˆ
- âœ… API æ‹¦æˆªå™¨æœºåˆ¶
- âœ… æ–‡æ¡£ä½“ç³»
- âœ… ç¦ç”¨ SSRï¼Œé‡‡ç”¨çº¯å®¢æˆ·ç«¯æ¸²æŸ“

### Phase 1: åŸºç¡€ UI ç»„ä»¶è¿ç§»ï¼ˆ2-3 å‘¨ï¼‰â³ **è¿›è¡Œä¸­**

**ç›®æ ‡**: è¿ç§»ç‹¬ç«‹çš„ UI ç»„ä»¶ï¼Œå»ºç«‹è¿ç§»æ¨¡å¼

**ä¼˜å…ˆçº§åˆ—è¡¨**:
1. **StatusToast** (é«˜ä¼˜å…ˆçº§) âœ… **å·²å®Œæˆ**
   - å½“å‰ä½ç½®: `static/app.js` ä¸­çš„ `showStatusToast` å‡½æ•°
   - å¤æ‚åº¦: ä½ (ç‹¬ç«‹ç»„ä»¶ï¼Œæ— å¤æ‚äº¤äº’)
   - é¢„è®¡å·¥ä½œé‡: 0.5 å¤©
   - **çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶é›†æˆåˆ° React Router ä¸»ç•Œé¢
   - **ç‰¹æ€§**: 
     - æ”¯æŒå…¨å±€ `window.showStatusToast()` API
     - å·²æ„å»ºä¸ºç‹¬ç«‹ç»„ä»¶ (`static/bundles/StatusToast.js`)
     - å‘åå…¼å®¹æ—§ä»£ç è°ƒç”¨æ–¹å¼
   
2. **Modal/Dialog** (é«˜ä¼˜å…ˆçº§) âœ… **å·²å®Œæˆ**
   - å½“å‰ä½ç½®: `static/app.js` çš„é€šç”¨å¼¹çª—é€»è¾‘ï¼ˆå·²è¿ç§»åˆ° `react_web/app/components/Modal/`ï¼‰
   - å¤æ‚åº¦: ä½-ä¸­ (éœ€è¦å¤„ç†å¤šç§ç±»å‹)
   - é¢„è®¡å·¥ä½œé‡: 1 å¤©
   - **çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶é›†æˆåˆ° `index.html`
   - **ç‰¹æ€§**: 
     - æ”¯æŒå…¨å±€ `window.showAlert()`, `window.showConfirm()`, `window.showPrompt()` API
     - å·²æ„å»ºä¸ºç‹¬ç«‹ç»„ä»¶ (`static/bundles/Modal.js`)
     - å‘åå…¼å®¹æ—§ä»£ç è°ƒç”¨æ–¹å¼ï¼ˆå®Œå…¨æ›¿ä»£ `common_dialogs.js`ï¼‰
     - æ”¯æŒä¸‰ç§å¯¹è¯æ¡†ç±»å‹ï¼šAlertã€Confirmï¼ˆå«å±é™©æ“ä½œæ ·å¼ï¼‰ã€Prompt
     - æ”¯æŒå›½é™…åŒ–ï¼ˆé€šè¿‡ `window.t`ï¼‰
     - å®Œæ•´çš„äº¤äº’åŠŸèƒ½ï¼šESC é”®å…³é—­ã€ç‚¹å‡»é®ç½©å…³é—­ã€è‡ªåŠ¨ç„¦ç‚¹ç®¡ç†
   
3. **Button ç»„ä»¶** (ä¸­ä¼˜å…ˆçº§) âœ… **å·²å®Œæˆ**
   - å½“å‰ä½ç½®: `react_web/app/components/Button.tsx`ï¼Œå¹¶å·²åœ¨ `main.tsx` ä¸­ç”¨äºå¯¹è¯åŒºæŒ‰é’®
   - å¤æ‚åº¦: ä½
   - é¢„è®¡å·¥ä½œé‡: 0.5 å¤©
   - **çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶é›†æˆåˆ° React Router ä¸»ç•Œé¢
   - **ç‰¹æ€§**:
     - æä¾›ç»Ÿä¸€çš„ Button å¤–è§‚å’Œå˜ä½“ï¼ˆprimary / secondary / danger ç­‰ï¼‰
     - å·²æ„å»ºä¸ºç‹¬ç«‹ç»„ä»¶ (`static/bundles/Button.js`)ï¼Œå¯åœ¨ä¼ ç»Ÿ HTML ä¸­å¤ç”¨

**æˆåŠŸæŒ‡æ ‡**:
- âœ… StatusToast ç»„ä»¶å·²å®Œæˆè¿ç§»
- âœ… Modal/Dialog ç»„ä»¶å·²å®Œæˆè¿ç§»
- âœ… è‡³å°‘ 3 ä¸ªç»„ä»¶å®Œæˆè¿ç§»ï¼ˆ3/3 å®Œæˆï¼‰
- âœ… äº‹ä»¶æ€»çº¿é€šä¿¡æœºåˆ¶éªŒè¯ï¼ˆStatusToast å’Œ Modal éƒ½ä½¿ç”¨å…¨å±€ API æ–¹å¼ï¼‰
- âœ… æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™
- âœ… æ—§ä»£ç å¯ä»¥å›é€€ï¼ˆStatusToast å’Œ Modal éƒ½ä¿æŒå‘åå…¼å®¹ï¼‰

### Phase 2: èŠå¤©ç³»ç»Ÿè¿ç§»ï¼ˆ3-4 å‘¨ï¼‰

**ç›®æ ‡**: è¿ç§»èŠå¤©ç›¸å…³åŠŸèƒ½

**ç»„ä»¶åˆ—è¡¨**:
1. **MessageList** (é«˜ä¼˜å…ˆçº§) ğŸ”¥
   - å½“å‰ä½ç½®: `static/app.js` çš„èŠå¤©æ¶ˆæ¯æ¸²æŸ“
   - å¤æ‚åº¦: ä¸­ (éœ€è¦è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–)
   - é¢„è®¡å·¥ä½œé‡: 2-3 å¤©
   
2. **ChatInput** (é«˜ä¼˜å…ˆçº§) ğŸ”¥
   - å½“å‰ä½ç½®: `static/app.js` çš„è¾“å…¥å¤„ç†
   - å¤æ‚åº¦: ä¸­ (éœ€è¦å¤„ç†å„ç§è¾“å…¥æ¨¡å¼)
   - é¢„è®¡å·¥ä½œé‡: 2 å¤©
   
3. **ScreenshotPreview** (ä¸­ä¼˜å…ˆçº§)
   - å½“å‰ä½ç½®: æˆªå›¾ç›¸å…³é€»è¾‘
   - å¤æ‚åº¦: ä¸­
   - é¢„è®¡å·¥ä½œé‡: 1-2 å¤©

**æŠ€æœ¯æŒ‘æˆ˜**:
- WebSocket çŠ¶æ€ç®¡ç†
- æ¶ˆæ¯å†å²æŒä¹…åŒ–
- æ»šåŠ¨æ€§èƒ½ä¼˜åŒ–

### Phase 3: Live2D ç³»ç»Ÿé‡æ„ï¼ˆ4-5 å‘¨ï¼‰âš ï¸ **é«˜éš¾åº¦**

**ç›®æ ‡**: å°† Live2D é›†æˆåˆ° React ç»„ä»¶ä¸­

**ç»„ä»¶åˆ—è¡¨**:
1. **Live2DCanvas** (é«˜ä¼˜å…ˆçº§) ğŸ”´
   - å½“å‰ä½ç½®: `static/live2d.js`
   - å¤æ‚åº¦: é«˜ (PIXI.js + React é›†æˆ)
   - é¢„è®¡å·¥ä½œé‡: 5-7 å¤©
   
2. **ExpressionController**
   - å¤æ‚åº¦: ä¸­
   - é¢„è®¡å·¥ä½œé‡: 2-3 å¤©
   
3. **MotionController**
   - å¤æ‚åº¦: ä¸­
   - é¢„è®¡å·¥ä½œé‡: 2-3 å¤©

**æŠ€æœ¯æŒ‘æˆ˜**:
- React ä¸ PIXI.js ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å£å‹åŒæ­¥å®ç°
- æ€§èƒ½ä¼˜åŒ–

### Phase 4: è¯­éŸ³æ§åˆ¶ç³»ç»Ÿï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: è¿ç§»è¯­éŸ³å’Œå±å¹•æ§åˆ¶åŠŸèƒ½

**ç»„ä»¶åˆ—è¡¨**:
1. **VoiceControl** (é«˜ä¼˜å…ˆçº§) ğŸ”´
   - å¤æ‚åº¦: é«˜ (WebRTC é›†æˆ)
   - é¢„è®¡å·¥ä½œé‡: 3-4 å¤©
   
2. **ScreenShareControl**
   - å¤æ‚åº¦: ä¸­-é«˜
   - é¢„è®¡å·¥ä½œé‡: 2-3 å¤©

**æŠ€æœ¯æŒ‘æˆ˜**:
- WebRTC çŠ¶æ€ç®¡ç†
- éŸ³é¢‘å¤„ç†ä¸å¯è§†åŒ–
- æµè§ˆå™¨å…¼å®¹æ€§

### Phase 5: é…ç½®ç®¡ç†ä¸ä¼˜åŒ–ï¼ˆ2-3 å‘¨ï¼‰

**ç›®æ ‡**: ç»Ÿä¸€é…ç½®ç®¡ç†ï¼Œä¼˜åŒ–æ€§èƒ½

**ä»»åŠ¡åˆ—è¡¨**:
1. ç»Ÿä¸€é…ç½®ç®¡ç† (Zustand æˆ– Context)
2. ä»£ç åˆ†å‰²ä¸æ‡’åŠ è½½
3. æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–
4. å“åº”å¼è®¾è®¡æ”¹è¿›
5. å•å…ƒæµ‹è¯•æ·»åŠ 

### Phase 6: æ¸…ç†ä¸æ–‡æ¡£ï¼ˆ1-2 å‘¨ï¼‰

**ç›®æ ‡**: ç§»é™¤æ—§ä»£ç ï¼Œå®Œå–„æ–‡æ¡£

**ä»»åŠ¡åˆ—è¡¨**:
1. åˆ é™¤å·²è¿ç§»çš„æ—§ä»£ç 
2. æ›´æ–°ç”¨æˆ·æ–‡æ¡£
3. æ·»åŠ å¼€å‘è€…æŒ‡å—
4. æ€§èƒ½åŸºå‡†æµ‹è¯•
5. å®‰å…¨å®¡è®¡

---

## âš ï¸ é£é™©ä¸æŒ‘æˆ˜

### æŠ€æœ¯é£é™©

1. **Live2D ä¸ React é›†æˆå¤æ‚æ€§** ğŸ”´
   - PIXI.js ç›´æ¥æ“ä½œ Canvasï¼ŒReact è™šæ‹Ÿ DOM å¯èƒ½å†²çª
   - **ç¼“è§£æªæ–½**: ä½¿ç”¨ useRef + useEffectï¼Œå°† PIXI è§†ä¸ºå¤–éƒ¨åº“
   
2. **WebSocket çŠ¶æ€ç®¡ç†** âš ï¸
   - è¿æ¥çŠ¶æ€ã€æ¶ˆæ¯é˜Ÿåˆ—éœ€è¦å¯é ç®¡ç†
   - **ç¼“è§£æªæ–½**: ä½¿ç”¨ Zustand æˆ–è‡ªå®šä¹‰ Hook å°è£…
   
3. **éŸ³é¢‘å¤„ç†å…¼å®¹æ€§** âš ï¸
   - WebRTC API æµè§ˆå™¨å·®å¼‚å¤§
   - **ç¼“è§£æªæ–½**: å……åˆ†çš„æµè§ˆå™¨æµ‹è¯•ï¼Œæä¾›é™çº§æ–¹æ¡ˆ

4. **æ€§èƒ½é€€åŒ–** âš ï¸
   - React é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€
   - **ç¼“è§£æªæ–½**: æ€§èƒ½ç›‘æ§ï¼Œä½¿ç”¨ React.memoã€useMemo ä¼˜åŒ–

5. **æ‰“åŒ…ä½“ç§¯å¢åŠ ** âš ï¸
   - React + ReactDOM çº¦ 40KB (gzipped)
   - **ç¼“è§£æªæ–½**: CDN åŠ è½½ Reactï¼Œä»£ç åˆ†å‰²ï¼ŒæŒ‰éœ€åŠ è½½

### å¼€å‘é£é™©

1. **å­¦ä¹ æ›²çº¿** âš ï¸
   - å›¢é˜Ÿéœ€è¦ç†Ÿæ‚‰ React Router v7ã€TypeScriptã€Vite
   - **ç¼“è§£æªæ–½**: é€æ­¥è¿ç§»ï¼Œå……åˆ†çš„æ–‡æ¡£å’Œç¤ºä¾‹
   
2. **ç»´æŠ¤æˆæœ¬** âš ï¸
   - è¿ç§»æœŸé—´éœ€è¦åŒæ—¶ç»´æŠ¤æ–°æ—§ä¸¤å¥—ä»£ç 
   - **ç¼“è§£æªæ–½**: æ˜ç¡®è¿ç§»ä¼˜å…ˆçº§ï¼Œå¿«é€Ÿæ¨è¿›

3. **æµ‹è¯•è¦†ç›–** âš ï¸
   - æ—§ä»£ç ç¼ºä¹æµ‹è¯•ï¼Œè¿ç§»æ—¶éœ€è¦è¡¥å……
   - **ç¼“è§£æªæ–½**: ä¼˜å…ˆä¸ºæ ¸å¿ƒåŠŸèƒ½æ·»åŠ æµ‹è¯•

### ç¼“è§£ç­–ç•¥æ€»ç»“

1. **å……åˆ†çš„æµ‹è¯•è¦†ç›–**
   - å•å…ƒæµ‹è¯• (React Testing Library)
   - é›†æˆæµ‹è¯• (Playwright / Cypress)
   - æ‰‹åŠ¨æµ‹è¯•æ¸…å•
   
2. **æ¸è¿›å¼è¿ç§»**
   - ä»ä½é£é™©ç»„ä»¶å¼€å§‹
   - æ¯ä¸ªç»„ä»¶ç‹¬ç«‹éªŒè¯
   - ä¿æŒå›æ»šèƒ½åŠ›
   
3. **æ€§èƒ½ç›‘æ§**
   - æ·»åŠ æ€§èƒ½åŸ‹ç‚¹
   - å®šæœŸæ€§èƒ½åŸºå‡†æµ‹è¯•
   - ç›‘æ§å…³é”®æŒ‡æ ‡ï¼ˆé¦–å±æ—¶é—´ã€äº¤äº’å»¶è¿Ÿï¼‰
   
4. **å›æ»šæ–¹æ¡ˆ**
   - ä¿ç•™æ—§ä»£ç ä½œä¸ºé™çº§æ–¹æ¡ˆ
   - ä½¿ç”¨ç‰¹æ€§å¼€å…³æ§åˆ¶æ–°åŠŸèƒ½
   - å»ºç«‹å¿«é€Ÿå›æ»šæµç¨‹

---

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡

- **TypeScript è¦†ç›–ç‡** > 90%
- **æµ‹è¯•è¦†ç›–ç‡** > 80% (æ ¸å¿ƒåŠŸèƒ½ 100%)
- **é¦–å±åŠ è½½æ—¶é—´** < 2s
- **åŒ…ä½“ç§¯** < 500KB (gzipped, ä¸å« React)
- **Lighthouse æ€§èƒ½åˆ†æ•°** > 90

### ä¸šåŠ¡æŒ‡æ ‡

- **åŠŸèƒ½å®Œæ•´æ€§**: 100% (æ‰€æœ‰ç°æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ)
- **ç”¨æˆ·ä½“éªŒ**: æ— æ˜æ˜¾é€€åŒ– (é€šè¿‡ç”¨æˆ·åé¦ˆéªŒè¯)
- **å¼€å‘æ•ˆç‡**: æ–°åŠŸèƒ½å¼€å‘æ—¶é—´å‡å°‘ 30%+
- **ä»£ç å¯ç»´æŠ¤æ€§**: ä»£ç è¡Œæ•°å‡å°‘ 20%+ï¼Œå¤æ‚åº¦é™ä½

### è¿›åº¦æŒ‡æ ‡

- **Phase 0**: âœ… å·²å®Œæˆ (2025-01)
- **Phase 1**: â³ è¿›è¡Œä¸­ (StatusToast âœ…, Modal/Dialog âœ…, Button â³) (é¢„è®¡ 2025-02 å®Œæˆ)
- **Phase 2**: ğŸ“… è®¡åˆ’ä¸­ (é¢„è®¡ 2025-03 å®Œæˆ)
- **Phase 3**: ğŸ“… è®¡åˆ’ä¸­ (é¢„è®¡ 2025-04 å®Œæˆ)
- **Phase 4**: ğŸ“… è®¡åˆ’ä¸­ (é¢„è®¡ 2025-05 å®Œæˆ)
- **Phase 5-6**: ğŸ“… è®¡åˆ’ä¸­ (é¢„è®¡ 2025-06 å®Œæˆ)

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **[README.md](./README.md)** - é¡¹ç›®ä¸»æ–‡æ¡£ï¼ŒåŒ…å«å®é™…æ¶æ„å’Œä½¿ç”¨æŒ‡å— â­â­â­

---

## ğŸ“– å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

> **æ³¨æ„**: ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„è·¯å¾„æ˜¯ç¤ºä¾‹æ€§çš„ï¼Œè¯·æ ¹æ®ä½ çš„å®é™…é¡¹ç›®è·¯å¾„è¿›è¡Œè°ƒæ•´ã€‚

```bash
cd /path/to/your/N.E.K.O/react_web
npm install
```

æˆ–è€…ï¼Œå¦‚æœä½ å·²ç»åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼š

```bash
cd react_web
npm install
```

### 2. å¼€å‘æ¨¡å¼

```bash
# ç»ˆç«¯ 1: React å‰ç«¯å¼€å‘
cd react_web
npm run dev

# ç»ˆç«¯ 2: åç«¯æœåŠ¡å™¨ï¼ˆå¦ä¸€ä¸ªç»ˆç«¯ï¼‰
cd ..
python main_server.py
```

### 3. æ„å»º

```bash
# æ„å»º React Router åº”ç”¨
cd react_web
npm run build

# æ„å»ºç‹¬ç«‹ç»„ä»¶ï¼ˆç”¨äºæ¸è¿›å¼è¿ç§»ï¼‰
npm run build:component
```

---

## ğŸ”„ æ¸è¿›å¼è¿ç§»æµç¨‹æ¦‚è§ˆ

### æ­¥éª¤ 1: é€‰æ‹©è¦è¿ç§»çš„ç»„ä»¶
ä»ç‹¬ç«‹ã€ä½é£é™©çš„ç»„ä»¶å¼€å§‹ï¼ˆå¦‚ Toastã€Modalã€Buttonï¼‰

### æ­¥éª¤ 2: åœ¨ react_web ä¸­å®ç°ç»„ä»¶
```bash
mkdir -p app/components/MyComponent
# åˆ›å»º MyComponent.tsx, MyComponent.css
```

### æ­¥éª¤ 3: é…ç½®æ„å»º
åœ¨ `vite.components.config.ts` ä¸­æ·»åŠ æ–°å…¥å£

### æ­¥éª¤ 4: æ„å»ºå¹¶é›†æˆ
```bash
npm run build:component
# è¾“å‡ºåˆ° ../static/bundles/MyComponent.js
```

### æ­¥éª¤ 5: åœ¨ HTML ä¸­ä½¿ç”¨
```html
<div id="my-component"></div>
<script type="module" src="/static/MyComponent.js"></script>
```

### æ­¥éª¤ 6: ä¿®æ”¹æ—§ä»£ç è°ƒç”¨æ–¹å¼
ä¼˜å…ˆä½¿ç”¨ React ç»„ä»¶ï¼Œä¿ç•™é™çº§æ–¹æ¡ˆ

### æ­¥éª¤ 7: æµ‹è¯•éªŒè¯
ç¡®ä¿åŠŸèƒ½æ­£å¸¸ã€æ ·å¼ä¸€è‡´ã€æ€§èƒ½æ— å½±å“

### æ­¥éª¤ 8: ç§»é™¤æ—§ä»£ç 
ç¡®è®¤ React ç»„ä»¶å·¥ä½œæ­£å¸¸åï¼Œåˆ é™¤æ—§çš„ DOM æ“ä½œä»£ç 

---

**æœ€åæ›´æ–°**: 2025-11-22 (SPA æ¨¡å¼è°ƒæ•´)
